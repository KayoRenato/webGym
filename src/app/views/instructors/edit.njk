{% extends "layout.njk" %}

{% block main %}
  <div class="card">

      <section class="avatar" style= "background: url({{instructor.avatar_url}}) no-repeat center center / cover "></section>
      <section class="details">

        <form method="POST" action="/instructors?_method=PUT">
          <h3>Editar Instrutor</h3>
          {% include "instructors/form.njk" %}
            <input
              type="hidden"
              name="id" 
              value={{instructor.id}}
            >
            <button type="submit">Salvar</button>
        </form>

        <form id="delete" action="/instructors?_method=DELETE" method="post">
          <input
                type="hidden"
                name="id" 
                value={{instructor.id}}
          >
          <button type="submit">Deletar</button>
        </form>

        <script>
          const formDelete = document.querySelector("#delete")
          formDelete.addEventListener("submit", (event) => {
            const confirmation = confirm("Deseja Deletar?")
            if(!confirmation){
              event.preventDefault()
            }
          })
        </script>
      </section>
  </div>

{% endblock %}